<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8"/>
  <meta name="robots" content="noindex, nofollow"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="app-version" content="settings-2026.02.25"/>
  <title data-i18n="settings.title">Familiada — settings</title>

  <link rel="icon" href="favicon.ico"/>
  <link rel="stylesheet" href="css/base.css"/>
  <link rel="stylesheet" href="css/builder.css"/>
  <link rel="stylesheet" href="css/settings.css"/>

  <script type="module" src="js/pages/settings.js" defer></script>
</head>
<body class="builder-body settings-body settings-locked no-footer-line">
  <header class="topbar topbar-layout-4 topbar-mobile-keep-brand">
    <div class="topbar-section topbar-section-1">
      <div class="brand">FAMILIADA</div>
    </div>
    <div class="topbar-section topbar-section-2">
      <button class="btn sm" id="btnTabMaintenance" type="button" data-i18n="settings.tabs.maintenance">Prace techniczne</button>
      <div class="ui-select" id="toolsSelect">
        <button class="btn sm ui-select-btn" type="button" aria-haspopup="listbox" aria-expanded="false">
          <span class="ui-select-label" data-i18n="settings.tabs.tools">Narzędzia</span>
        </button>
        <div class="ui-select-menu" role="listbox"></div>
      </div>
    </div>
    <div class="topbar-section topbar-section-3"></div>
    <div class="topbar-section topbar-section-4">
      <button class="btn sm" id="btnLogout" type="button" data-i18n="settings.actions.logout">Wyloguj</button>
    </div>
  </header>

  <main class="wrap">
    <section class="settings-panel" id="panelScreen" hidden>
      <div class="maintenance-panel">
        <div class="panel-head">
          <div class="panel-title" data-i18n="settings.maintenance.title">Prace techniczne</div>
          <div class="panel-sub" data-i18n="settings.maintenance.subtitle">Ustawienia strony maintenance</div>
        </div>

        <div class="mode-switch" id="modeSwitch">
          <button class="mode-btn" data-mode="message" type="button" data-i18n="settings.modes.message">Wiadomość</button>
          <button class="mode-btn" data-mode="returnAt" type="button" data-i18n="settings.modes.returnAt">Do godziny</button>
          <button class="mode-btn" data-mode="countdown" type="button" data-i18n="settings.modes.countdown">Odliczanie</button>
        </div>

        <div class="mode-block" id="modeMessage">
          <div class="mode-hint" data-i18n="settings.modes.messageHint">Komunikat bez daty i bez odliczania.</div>
        </div>

        <div class="mode-block" id="modeReturnAt" hidden>
          <label class="field">
            <span class="field-label" data-i18n="settings.maintenance.returnAt">Powrót</span>
            <input type="datetime-local" id="returnAtInput"/>
            <span class="field-hint" data-i18n="settings.maintenance.returnAtHint">Minimum 10 minut od teraz.</span>
          </label>
        </div>

        <div class="mode-block" id="modeCountdown" hidden>
          <label class="field">
            <span class="field-label" data-i18n="settings.modes.endAt">Do godziny</span>
            <input type="datetime-local" id="endAtInput"/>
          </label>
          <div class="countdown-row">
            <span class="countdown-label" data-i18n="settings.modes.countdownNow">Aktualny licznik</span>
            <span class="countdown-value" id="countdownNow">—</span>
          </div>
        </div>

        <div class="panel-actions">
          <button class="btn sm gold" id="btnStartStop" type="button" data-i18n="settings.actions.start">Start</button>
          <button class="btn sm" id="btnRefresh" type="button" data-i18n="settings.actions.refresh">Odśwież</button>
        </div>

        <div class="panel-status" id="panelStatus">
          <span class="status-label" data-i18n="settings.status.label">Status</span>
          <span class="status-value" id="statusValue">—</span>
        </div>

        <div class="bypass-box">
          <div class="bypass-title" data-i18n="settings.bypass.title">Pomiń administratora</div>
          <div class="bypass-actions">
            <button class="btn sm gold" id="btnBypassOn" type="button" data-i18n="settings.bypass.on">Bypass ON</button>
            <button class="btn sm" id="btnBypassOff" type="button" data-i18n="settings.bypass.off">Bypass OFF</button>
          </div>
        </div>
      </div>
    </section>

    <section class="tools-shell" id="toolsShell" hidden>
      <div class="tools-frame-wrap">
        <iframe id="toolsFrame" title="Tools" loading="lazy"></iframe>
      </div>
    </section>
  </main>

  <footer class="footer wrap">
    <span data-i18n="settings.footerLeft">Familiada — panel admina</span>
    <span data-i18n="settings.footerRight">Dostęp tylko dla uprawnionych.</span>
  </footer>

  <div class="settings-auth" id="authScreen">
    <div class="auth-card" id="authCard">
      <div class="auth-brand">FAMILIADA</div>
      <div class="auth-sub" data-i18n="settings.login.title">Panel ustawień</div>
      <div class="status" id="authStatus" data-i18n="settings.login.checking">Trwa weryfikacja…</div>

      <form class="auth-form" id="loginForm">
        <input id="loginUsername" type="text" autocomplete="username" data-i18n-placeholder="settings.login.usernamePlaceholder" placeholder="Nazwa użytkownika"/>
        <input id="loginPassword" type="password" autocomplete="current-password" data-i18n-placeholder="settings.login.passwordPlaceholder" placeholder="Hasło"/>
        <button class="btn sm gold" id="btnLogin" type="submit" data-i18n="settings.login.loginBtn">Zaloguj</button>
        <div class="err" id="loginError"></div>
      </form>

      <div class="hint" id="loginHint" data-i18n="settings.login.hint">Ten panel wymaga uprawnień admina.</div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>
</body>
</html>
