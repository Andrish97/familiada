<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8"/>
  <meta name="robots" content="noindex, nofollow"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="app-version" content="settings-2026.02.25"/>
  <title data-i18n="settings.title">Familiada — settings</title>

  <link rel="icon" href="favicon.ico"/>
  <link rel="stylesheet" href="css/base.css"/>
  <link rel="stylesheet" href="css/builder.css"/>
  <link rel="stylesheet" href="css/settings.css"/>

  <script type="module" src="js/pages/settings.js" defer></script>
</head>
<body class="builder-body settings-body settings-locked">
  <header class="topbar topbar-layout-4 topbar-mobile-keep-brand">
    <div class="topbar-section topbar-section-1">
      <div class="brand">FAMILIADA</div>
    </div>
    <div class="topbar-section topbar-section-2">
      <a class="btn sm" id="btnSupabase" href="https://supabase.familiada.online" data-i18n="settings.actions.supabase">Supabase</a>
      <a class="btn sm" id="btnServer" href="https://panel.familiada.online" data-i18n="settings.actions.server">Serwer</a>
    </div>
    <div class="topbar-section topbar-section-3"></div>
    <div class="topbar-section topbar-section-4">
      <button class="btn sm" id="btnLogout" type="button" data-i18n="settings.actions.logout">Wyloguj</button>
    </div>
  </header>

  <main class="wrap">
    <div class="bar">
      <div>
        <div class="title" data-i18n="settings.title">Ustawienia</div>
        <div class="hint" data-i18n="settings.subtitle">Panel administracyjny</div>
      </div>

      <div class="actions" id="panelActions" hidden>
        <button class="btn sm" id="btnRefresh" type="button" data-i18n="settings.actions.refresh">Odśwież</button>
        <button class="btn sm gold" id="btnSave" type="button" data-i18n="settings.actions.save">Zapisz</button>
      </div>
    </div>

    <section class="builder-shell">
      <div class="card builder-card settings-card-root">
        <div class="settings-panel" id="panelScreen" hidden>
          <div class="grid settings-grid">
            <div class="card settings-tile settings-tile--wide" id="tileMaintenance">
              <div class="tile-header">
                <div class="tile-title" data-i18n="settings.maintenance.title">Prace techniczne</div>
                <div class="tile-sub" data-i18n="settings.maintenance.subtitle">Ustawienia strony maintenance</div>
              </div>

              <div class="tile-body">
                <div class="field row">
                  <button class="btn sm" id="btnQuickOff" type="button" data-i18n="settings.maintenance.quickOff">OFF</button>
                  <button class="btn sm gold" id="btnQuickMessage" type="button" data-i18n="settings.maintenance.quickMessage">Message ON</button>
                  <button class="btn sm" id="btnQuickReturnAt" type="button" data-i18n="settings.maintenance.quickReturnAt">ReturnAt</button>
                  <button class="btn sm" id="btnQuickCountdown" type="button" data-i18n="settings.maintenance.quickCountdown">Countdown</button>
                </div>

                <label class="field">
                  <span class="field-label" data-i18n="settings.maintenance.enabled">Maintenance</span>
                  <span class="field-control toggle">
                    <input type="checkbox" id="enabledToggle"/>
                    <span class="toggle-label" data-i18n="settings.maintenance.enabledHelp">Włącz</span>
                  </span>
                </label>

                <label class="field">
                  <span class="field-label" data-i18n="settings.maintenance.mode">Tryb</span>
                  <select id="modeSelect">
                    <option value="off" data-i18n="settings.maintenance.modeOff">off</option>
                    <option value="message" data-i18n="settings.maintenance.modeMessage">message</option>
                    <option value="returnAt" data-i18n="settings.maintenance.modeReturnAt">returnAt</option>
                    <option value="countdown" data-i18n="settings.maintenance.modeCountdown">countdown</option>
                  </select>
                </label>

                <label class="field">
                  <span class="field-label" data-i18n="settings.maintenance.returnAt">Powrót</span>
                  <input type="datetime-local" id="returnAtInput"/>
                  <span class="field-hint" data-i18n="settings.maintenance.returnAtHint">Zapiszemy jako ISO.</span>
                </label>

                <div class="field row">
                  <button class="btn sm" id="btnClearReturnAt" type="button" data-i18n="settings.maintenance.clearReturnAt">Wyczyść returnAt</button>
                  <span class="warn" id="returnAtWarn" data-i18n="settings.maintenance.returnAtWarn" hidden>Brak returnAt dla wybranego trybu.</span>
                </div>

                <div class="preview">
                  <div class="preview-title" data-i18n="settings.maintenance.previewTitle">Podgląd</div>
                  <div class="preview-body">
                    <div class="preview-line" id="previewTitle">—</div>
                    <div class="preview-line" id="previewText">—</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="card settings-tile" id="tilePlaceholder">
              <div class="tile-header">
                <div class="tile-title" data-i18n="settings.placeholder.title">Więcej ustawień</div>
                <div class="tile-sub" data-i18n="settings.placeholder.subtitle">Miejsce na kolejne moduły</div>
              </div>
              <div class="tile-body">
                <div class="placeholder-text" data-i18n="settings.placeholder.text">Tutaj w przyszłości pojawią się dodatkowe ustawienia.</div>
              </div>
            </div>

            <div class="card settings-tile" id="tileBypass">
              <div class="tile-header">
                <div class="tile-title" data-i18n="settings.bypass.title">Bypass</div>
                <div class="tile-sub" data-i18n="settings.bypass.subtitle">Pomiń maintenance dla admina</div>
              </div>
              <div class="tile-body">
                <div class="field row">
                  <button class="btn sm gold" id="btnBypassOn" type="button" data-i18n="settings.bypass.on">Bypass ON</button>
                  <button class="btn sm" id="btnBypassOff" type="button" data-i18n="settings.bypass.off">Bypass OFF</button>
                  <span class="hint" id="bypassHint" data-i18n="settings.bypass.hint">Ustawia cookie admina na 30 dni.</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer wrap">
    <span data-i18n="settings.footerLeft">Familiada — panel admina</span>
    <span data-i18n="settings.footerRight">Dostęp tylko dla uprawnionych.</span>
  </footer>

  <div class="settings-auth" id="authScreen">
    <div class="auth-card" id="authCard">
      <div class="auth-brand">FAMILIADA</div>
      <div class="auth-sub" data-i18n="settings.login.title">Panel ustawień</div>
      <div class="status" id="authStatus" data-i18n="settings.login.checking">Trwa weryfikacja…</div>

      <form class="auth-form" id="loginForm">
        <input id="loginUsername" type="text" autocomplete="username" data-i18n-placeholder="settings.login.usernamePlaceholder" placeholder="Nazwa użytkownika"/>
        <input id="loginPassword" type="password" autocomplete="current-password" data-i18n-placeholder="settings.login.passwordPlaceholder" placeholder="Hasło"/>
        <button class="btn sm gold" id="btnLogin" type="submit" data-i18n="settings.login.loginBtn">Zaloguj</button>
        <div class="err" id="loginError"></div>
      </form>

      <div class="hint" id="loginHint" data-i18n="settings.login.hint">Ten panel wymaga uprawnień admina.</div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>
</body>
</html>
