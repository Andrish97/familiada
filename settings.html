<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8"/>
  <meta name="robots" content="noindex, nofollow"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="app-version" content="settings-2026.02.25"/>
  <title data-i18n="settings.title">Familiada â€” settings</title>

  <link rel="icon" href="favicon.ico"/>
  <link rel="stylesheet" href="css/base.css"/>
  <link rel="stylesheet" href="css/builder.css"/>
  <link rel="stylesheet" href="css/settings.css"/>

  <script type="module" src="js/pages/settings.js" defer></script>
</head>
<body class="builder-body settings-body settings-locked no-footer-line">
  <header class="topbar topbar-layout-4 topbar-mobile-keep-brand">
    <div class="topbar-section topbar-section-1">
      <div class="brand">FAMILIADA</div>
    </div>
    <div class="topbar-section topbar-section-2">
      <a class="btn sm btn-external" id="btnSupabase" href="https://supabase.familiada.online" target="_blank" rel="noopener" data-i18n="settings.actions.supabase">Supabase</a>
      <a class="btn sm btn-external" id="btnServer" href="https://panel.familiada.online" target="_blank" rel="noopener" data-i18n="settings.actions.server">Serwer</a>
      <button class="btn sm tab-btn active" id="btnTabMaintenance" type="button" data-i18n="settings.tabs.maintenance">Prace techniczne</button>
      <div class="ui-select" id="toolsSelect">
        <button class="btn sm ui-select-btn" type="button" aria-haspopup="listbox" aria-expanded="false">
          <span class="ui-select-label" data-i18n="settings.tabs.tools">NarzÄ™dzia</span>
        </button>
        <div class="ui-select-menu" role="listbox"></div>
      </div>
    </div>
    <div class="topbar-section topbar-section-3"></div>
    <div class="topbar-section topbar-section-4">
      <button class="btn sm" id="btnLogout" type="button" data-i18n="settings.actions.logout">Wyloguj</button>
    </div>
  </header>

  <main class="wrap">
    <section class="settings-panel" id="panelScreen" hidden>
      <div class="maintenance-panel">
        <div class="panel-head">
          <div class="panel-title" data-i18n="settings.maintenance.title">Prace techniczne</div>
          <div class="panel-sub" data-i18n="settings.maintenance.subtitle">Ustawienia strony maintenance</div>
        </div>

        <div class="maintenance-controls" id="maintenanceControls">
          <div class="mode-slider" id="modeSliderWrap">
            <input class="mode-range" id="modeSlider" type="range" min="0" max="2" step="1" value="0" aria-label="Maintenance mode"/>
            <div class="mode-labels" id="modeLabels">
              <span class="mode-label" data-mode="message" data-i18n="settings.modes.message">WiadomoÅ›Ä‡</span>
              <span class="mode-label" data-mode="returnAt" data-i18n="settings.modes.returnAt">Do godziny</span>
              <span class="mode-label" data-mode="countdown" data-i18n="settings.modes.countdown">Odliczanie</span>
            </div>
          </div>

          <div class="mode-block" id="modeMessage">
            <div class="mode-hint" data-i18n="settings.modes.messageHint">Komunikat bez daty i bez odliczania.</div>
          </div>

          <div class="mode-block" id="modeReturnAt" hidden>
            <div class="field">
              <span class="field-label field-title" data-i18n="settings.maintenance.returnAt">PowrÃ³t</span>
              <div class="dt-group">
                <input class="dt-input" id="returnAtHour" type="number" inputmode="numeric" placeholder="HH" min="0" max="23"/>
                <span class="dt-colon">:</span>
                <input class="dt-input" id="returnAtMinute" type="number" inputmode="numeric" placeholder="MM" min="0" max="59"/>
                <span class="dt-sep">â€”</span>
                <input class="dt-input" id="returnAtDay" type="number" inputmode="numeric" placeholder="DD" min="1" max="31"/>
                <span class="dt-dot">.</span>
                <input class="dt-input" id="returnAtMonth" type="number" inputmode="numeric" placeholder="MM" min="1" max="12"/>
                <span class="dt-dot">.</span>
                <input class="dt-input" id="returnAtYear" type="number" inputmode="numeric" placeholder="YYYY" min="2024" max="2035"/>
                <button class="btn sm dt-open" data-dt-open="returnAt" type="button">ðŸ“…</button>
              </div>
              <span class="field-hint" data-i18n="settings.maintenance.returnAtHint">Minimum 10 minut od teraz.</span>
            </div>
          </div>

          <div class="mode-block" id="modeCountdown" hidden>
            <div class="field">
              <span class="field-label field-title" data-i18n="settings.modes.endAt">Do godziny</span>
              <div class="dt-group">
                <input class="dt-input" id="endAtHour" type="number" inputmode="numeric" placeholder="HH" min="0" max="23"/>
                <span class="dt-colon">:</span>
                <input class="dt-input" id="endAtMinute" type="number" inputmode="numeric" placeholder="MM" min="0" max="59"/>
                <span class="dt-sep">â€”</span>
                <input class="dt-input" id="endAtDay" type="number" inputmode="numeric" placeholder="DD" min="1" max="31"/>
                <span class="dt-dot">.</span>
                <input class="dt-input" id="endAtMonth" type="number" inputmode="numeric" placeholder="MM" min="1" max="12"/>
                <span class="dt-dot">.</span>
                <input class="dt-input" id="endAtYear" type="number" inputmode="numeric" placeholder="YYYY" min="2024" max="2035"/>
                <button class="btn sm dt-open" data-dt-open="endAt" type="button">ðŸ“…</button>
              </div>
              <span class="field-hint" data-i18n="settings.maintenance.returnAtHint">Minimum 10 minut od teraz.</span>
            </div>
          </div>

          <div class="mode-status" id="modeStatus" hidden>
            <span class="mode-status-label" data-i18n="settings.preview.label">PodglÄ…d:</span>
            <span class="mode-status-value" id="modeStatusValue">â€”</span>
          </div>
        </div>

        <div class="warn" id="timeWarn" data-i18n="settings.validation.tooSoonText" hidden>Minimalny czas to 10 minut od teraz.</div>

        <div class="panel-actions">
          <button class="btn sm gold" id="btnStartStop" type="button" data-i18n="settings.actions.start">Start</button>
          <button class="btn sm" id="btnRefresh" type="button" data-i18n="settings.actions.refresh">OdÅ›wieÅ¼</button>
        </div>

        <div class="panel-status" id="panelStatus">
          <span class="status-label" data-i18n="settings.status.label">Status</span>
          <span class="status-value" id="statusValue">â€”</span>
        </div>

        <div class="bypass-box">
          <div class="bypass-title" data-i18n="settings.bypass.title">PomiÅ„ administratora</div>
          <div class="bypass-actions">
            <label class="toggle" for="bypassToggle">
              <input type="checkbox" id="bypassToggle"/>
              <span class="toggle-ui"></span>
              <span class="toggle-label" data-i18n="settings.bypass.label">WÅ‚Ä…cz bypass</span>
            </label>
          </div>
          <div class="bypass-desc" data-i18n="settings.bypass.desc">Ustawia cookie admina na 30 dni. DziaÅ‚a tylko w tej przeglÄ…darce.</div>
        </div>
      </div>
    </section>

  </main>

  <section class="tools-shell" id="toolsShell" hidden>
    <div class="tools-frame-wrap">
      <iframe id="toolsFrame" title="Tools" loading="lazy"></iframe>
    </div>
  </section>

  <footer class="footer wrap">
    <span data-i18n="settings.footerLeft">Familiada â€” panel admina</span>
    <span data-i18n="settings.footerRight">DostÄ™p tylko dla uprawnionych.</span>
  </footer>

  <div class="settings-auth" id="authScreen">
    <div class="auth-card" id="authCard">
      <div class="auth-brand">FAMILIADA</div>
      <div class="auth-sub" data-i18n="settings.login.title">Panel ustawieÅ„</div>
      <div class="status" id="authStatus" data-i18n="settings.login.checking">Trwa weryfikacjaâ€¦</div>

      <form class="auth-form" id="loginForm">
        <input id="loginUsername" type="text" autocomplete="username" data-i18n-placeholder="settings.login.usernamePlaceholder" placeholder="Nazwa uÅ¼ytkownika"/>
        <input id="loginPassword" type="password" autocomplete="current-password" data-i18n-placeholder="settings.login.passwordPlaceholder" placeholder="HasÅ‚o"/>
        <button class="btn sm gold" id="btnLogin" type="submit" data-i18n="settings.login.loginBtn">Zaloguj</button>
        <div class="err" id="loginError"></div>
      </form>

      <div class="hint" id="loginHint" data-i18n="settings.login.hint">Ten panel wymaga uprawnieÅ„ admina.</div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <div class="dt-modal" id="dtModal" hidden>
    <div class="dt-card">
      <div class="dt-head">
        <button class="btn sm" id="dtToday" type="button" data-i18n="settings.actions.today">DziÅ›</button>
        <button class="btn sm" id="dtPrev" type="button">â—€</button>
        <div class="dt-title" id="dtTitle">â€”</div>
        <button class="btn sm" id="dtNext" type="button">â–¶</button>
      </div>
      <div class="dt-grid" id="dtGrid"></div>
      <div class="dt-time">
        <div class="dt-time-label" data-i18n="settings.actions.time">Czas</div>
        <div class="dt-time-row">
          <div class="dt-wheel" id="dtHourWheel"></div>
          <span class="dt-colon">:</span>
          <div class="dt-wheel" id="dtMinuteWheel"></div>
        </div>
      </div>
      <div class="dt-actions">
        <button class="btn sm" id="dtCancel" type="button" data-i18n="settings.actions.cancel">Anuluj</button>
        <button class="btn sm gold" id="dtOk" type="button" data-i18n="settings.actions.ok">OK</button>
      </div>
    </div>
  </div>
</body>
</html>
