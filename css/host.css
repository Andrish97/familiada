/* /familiada/css/host.css */

:root {
    --line: clamp(25px, 4.0vmin, 36px);
    --line-px: 24;
    --font-ratio: 1.1;
    --baseline-shift: 0.12;
    --ios-text-shift: 0px;
    --safe-top: env(safe-area-inset-top, 0px);
    --safe-right: env(safe-area-inset-right, 0px);
    --safe-bottom: env(safe-area-inset-bottom, 0px);
    --safe-left: env(safe-area-inset-left, 0px);
    --outer-left: 0px;
    --outer-right: 0px;
    --snap-top-1: 0px;
    --snap-top-2: 0px;
    --pane2-size: 50%;
    --pane2-size-snap: 50%;
    --split-line-w: clamp(4px, calc(var(--line) * 0.18), 10px);
    --split-line: rgba(0,0,0,.12);
    --split-line-edge: rgba(0,0,0,.30);
    --swipe-guard-px: clamp(22px, calc(var(--line) * 0.85), 40px);
    --margin-x: calc(var(--line) * 2.0);
    --text-left-1: calc(var(--line) * 2.5);
    --text-right-1: calc(var(--line) * 1.5);
    --text-left-2: calc(var(--line) * 1.5);
    --text-right-2: calc(var(--line) * 1.5);
    --top-pad-1: calc(var(--line) * 1.0);
    --bottom-pad-1: calc(var(--line) * 2.2);
    --top-pad-2: calc(var(--line) * 1.0);
    --bottom-pad-2: calc(var(--line) * 2.2);
    --cover-grad-a: #c4002f;
    --cover-grad-b: #2a62ff
}

@font-face {
    font-family:"Caveat-Variable";src:url(Caveat-Variable.woff2)format("woff2");font-weight:100 900;font-style:normal;font-display:swap
}

* {
    -webkit-tap-highlight-color: transparent
}

body,html {
    margin: 0;
    padding: 0;
    height: 100%;
    background: #fffdf5
}

.host-body {
    margin: 0;
    overflow: hidden;
    user-select: none;
    min-height: 100dvh;
    touch-action: none
}

.fsBtn {
    position: fixed;
    top: calc(var(--safe-top) + 10px);
    right: calc(var(--safe-right) + 10px);
    z-index: 200;
    width: 44px;
    height: 44px;
    border-radius: 14px;
    background: rgba(0,0,0,.35);
    border: 1px solid rgba(255,255,255,.35);
    box-shadow: 0 4px 14px rgba(0,0,0,.35);
    color: #fff;
    font-weight: 900;
    cursor: pointer
}

.fsBtn:active {
    transform: translateY(1px)
}

.paper {
    position: fixed;
    inset: 0;
    z-index: 10;
    background-color: #fffdf5;
    background-image: linear-gradient(to bottom,#e7e2d3 1px,transparent 1px);
    background-size: 100% var(--line);
    background-position: 0 0
}

.redMargin {
    position: absolute;
    top: 0;
    bottom: 0;
    left: calc(var(--outer-left) + var(--margin-x));
    width: 2px;
    background: rgba(255,80,80,.55);
    pointer-events: none
}

.paperSplit {
    display: grid;
    width: 100%;
    height: 100%
}

html.portrait .paperSplit {
    grid-template-columns: 1fr;
    grid-template-rows: 1fr var(--pane2-size-snap)
}

html.landscape .paperSplit {
    grid-template-rows: 1fr;
    grid-template-columns: 1fr var(--pane2-size-snap)
}

.pane {
    position: relative;
    overflow: hidden
}

html.portrait .pane1 {
    grid-row: 1;
    grid-column: 1
}

html.portrait .pane2 {
    grid-row: 2;
    grid-column: 1
}

html.landscape .pane1 {
    grid-row: 1;
    grid-column: 1
}

html.landscape .pane2 {
    grid-row: 1;
    grid-column: 2
}

.splitLine {
    display: none!important
}

.p2Hint,.pane2::before,.text {
    position: absolute;
    pointer-events: none
}

.pane2::before {
    content: "";
    z-index: 5;
    background: linear-gradient(to right,var(--split-line-edge),var(--split-line),var(--split-line-edge))
}

html.portrait .pane2::before {
    left: 0;
    right: 0;
    top: 0;
    height: var(--split-line-w)
}

html.landscape .pane2::before {
    top: 0;
    bottom: 0;
    left: 0;
    width: var(--split-line-w);
    background: linear-gradient(to bottom,var(--split-line-edge),var(--split-line),var(--split-line-edge))
}

.p2Hint,.text {
    font-family: "Caveat-Variable",cursive
}

.text {
    margin: 0;
    white-space: pre-wrap;
    word-break: break-word;
    font-size: calc(var(--line)*var(--font-ratio));
    line-height: var(--line);
    padding-top: calc(var(--line)*var(--baseline-shift));
    transform: translateY(var(--ios-text-shift));
    color: #111
}

.text span {
    font: inherit;
    line-height: inherit;
    text-decoration-thickness: .08em;
    text-underline-offset: .18em
}

.text .b {
    font-variation-settings: "wght"750;
    font-weight: 750
}

.pane1 .text {
    top: calc(var(--safe-top) + var(--top-pad-1) + var(--snap-top-1));
    bottom: calc(var(--safe-bottom) + var(--bottom-pad-1))
}

html.portrait .pane1 .text {
    left: var(--text-left-1);
    right: var(--text-right-1)
}

html.landscape .pane1 .text {
    left: calc(var(--outer-left) + var(--text-left-1));
    right: var(--text-right-1)
}

.pane2 .text {
    top: calc(var(--safe-top) + var(--top-pad-2) + var(--snap-top-2));
    bottom: calc(var(--safe-bottom) + var(--bottom-pad-2))
}

html.portrait .p2Hint,html.portrait .pane2 .text {
    left: var(--text-left-1);
    right: var(--text-right-1)
}

html.landscape .p2Hint,html.landscape .pane2 .text {
    left: var(--text-left-2);
    right: calc(var(--outer-right) + var(--text-right-2))
}

.p2Hint {
    bottom: calc(var(--safe-bottom) + 6px);
    font-size: calc(var(--line)*.7);
    line-height: 1.15;
    color: rgba(0,0,0,.45);
    opacity: 0;
    transform: translateY(6px);
    transition: opacity 140ms ease,transform 140ms ease
}

html.p2Open .p2Hint {
    opacity: 1;
    transform: translateY(0)
}

.cover2,.cover2Content {
    position: absolute;
    inset: 0
}

.cover2 {
    z-index: 30;
    background: linear-gradient(90deg,var(--cover-grad-a) 0%,var(--cover-grad-b) 100%);
    transition: transform 180ms ease,opacity 160ms ease;
    will-change: transform,opacity
}

.cover2.coverOn {
    transform: translate(0,0);
    opacity: 1;
    pointer-events: auto
}

html.portrait .cover2.coverOff {
    transform: translateY(120%);
    opacity: 1;
    pointer-events: none
}

html.landscape .cover2.coverOff {
    transform: translateX(120%);
    opacity: 1;
    pointer-events: none
}

.cover2Content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: clamp(6px,1.6vh,14px);
    padding: calc(var(--safe-top) + 10px) calc(var(--safe-right) + 10px) calc(var(--safe-bottom) + 10px) calc(var(--safe-left) + 10px);
    box-sizing: border-box;
    min-height: 0;
    height: 100%
}

.cover2Logo {
    flex: 1 1 auto;
    min-height: 0;
    max-height: 100%;
    width: min(820px,86%);
    max-width: 86%;
    height: auto;
    object-fit: contain;
    display: block;
    filter: drop-shadow(0 12px 30px rgba(0,0,0,.35));
    pointer-events: none;
    -webkit-user-drag: none;
    user-select: none
}

.cover2Swipe {
    flex: 0 0 auto;
    max-width: min(92%,720px);
    padding: 0 10px;
    font-family: "Caveat-Variable",cursive;
    font-size: clamp(14px,calc(var(--line)*.72),30px);
    line-height: 1.15;
    color: #fc0;
    text-shadow: 0 4px 18px rgba(0,0,0,.45);
    white-space: normal;
    word-break: break-word
}

@media (max-height:420px) {
    .cover2Swipe {
        display: none
    }
}

.pseudoFS,.pseudoFS body {
    width: 100%;
    height: 100%;
    overflow: hidden
}

.pseudoFS .fsBtn {
    opacity: .85
}

@media (prefers-reduced-motion:reduce) {
    .cover2,.p2Hint {
        transition: none!important
    }
}
