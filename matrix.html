<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Siatka 30×10 matryc 5×7</title>
<style>
  :root{
    --px: 12px;      /* rozmiar piksela */
    --gap: 2px;      /* odstęp między pikselami */
    --matgap: 12px;  /* odstęp między matrycami = 1 piksel */
    --off: #cfcfcf;
    --on: #111;
    --bg: #f5f5f5;
  }

  body{
    font-family: system-ui, sans-serif;
    background: var(--bg);
    margin: 0;
    padding: 16px;
  }

  #canvas{
    display: grid;
    user-select: none;
    width: max-content;
    background: #fff;
    padding: 12px;
    border-radius: 12px;
    box-shadow: 0 1px 8px rgba(0,0,0,.1);
  }

  .px{
    width: var(--px);
    height: var(--px);
    background: var(--off);
    border-radius: 3px;
    cursor: crosshair;
  }
  .px.on{ background: var(--on); }

  .sep{
    width: var(--matgap);
    height: var(--matgap);
    pointer-events: none;
  }
</style>
</head>
<body>

<h2>30×10 matryc 5×7 (z odstępami)</h2>

<div id="canvas"></div>

<script>
(() => {
  const MAT_W = 5, MAT_H = 7;
  const MATS_X = 30, MATS_Y = 10;

  const canvas = document.getElementById('canvas');

  // całkowite wymiary z separatorami
  const COLS = MATS_X * MAT_W + (MATS_X - 1);
  const ROWS = MATS_Y * MAT_H + (MATS_Y - 1);

  canvas.style.gridTemplateColumns = `repeat(${COLS}, auto)`;
  canvas.style.gridTemplateRows = `repeat(${ROWS}, auto)`;

  const state = [];

  for (let y = 0; y < ROWS; y++) {
    for (let x = 0; x < COLS; x++) {

      // czy to separator między matrycami?
      const isVsep = (x % (MAT_W + 1)) === MAT_W;
      const isHsep = (y % (MAT_H + 1)) === MAT_H;

      if (isVsep || isHsep) {
        const sep = document.createElement('div');
        sep.className = 'sep';
        canvas.appendChild(sep);
        state.push(null);
        continue;
      }

      const px = document.createElement('div');
      px.className = 'px';

      px.onclick = () => {
        px.classList.toggle('on');
      };

      canvas.appendChild(px);
      state.push(px);
    }
  }
})();
</script>

</body>
</html>
